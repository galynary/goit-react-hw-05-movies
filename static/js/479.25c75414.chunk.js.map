{"version":3,"file":"static/js/479.25c75414.chunk.js","mappings":"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","sources":["api/fetchAPI.js","components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","images/loupe.svg","components/Form/Form.styled.js","components/Form/Form.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst API_KEY = 'e7b77a04616bbe4184f610c6f41bfdf9';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst showToast = message => {\n  if (!toast.isActive('notification')) {\n    toast(message, { toastId: 'notification' });\n  }\n};\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error(error);\n    showToast('Something went wrong');\n  }\n};\n\nexport const fetchSearchMovies = async query => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    if (response.data.results.length === 0) {\n      showToast('Oops...There are no such movies!');\n    }\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n    showToast('Something went wrong');\n  }\n};\n\nexport const fetchMovieDetails = async movieId => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    showToast('Something went wrong');\n  }\n};\n\nexport const fetchMovieCredits = async movieId => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`\n    );\n    if (response.data.cast.length === 0) {\n      showToast('Oops...There are no casts');\n    }\n    return response.data.cast;\n  } catch (error) {\n    console.log(error);\n    showToast('Something went wrong');\n  }\n};\n\nexport const fetchMovieReviews = async movieId => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`\n    );\n    if (response.data.results.length === 0) {\n      showToast('Oops...There are no reviews');\n    }\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n    showToast('Something went wrong');\n  }\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  margin-top: 60px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 30px;\n`;\n\nexport const CardWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-basis: calc((100% - 50px) / 5);\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  &:focus {\n    transform: scale(1.02);\n  }\n  > a {\n    text-decoration: none;\n  }\n  img {\n    height: 360px;\n    border-radius: 6px;\n    width: 100%;\n    object-fit: cover;\n    box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.35);\n  }\n\n  @media only screen and (min-width: 320px) {\n    flex-basis: 100%;\n  }\n\n  @media only screen and (min-width: 760px) {\n    flex-basis: 40%;\n  }\n\n  @media only screen and (min-width: 1200px) {\n    flex-basis: calc((100% - 50px) / 5);\n  }\n`;\n\nexport const MovieName = styled.p`\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: #272020;\n  text-align: center;\n`;\n","import { CardWrapper, Container, MovieName } from './MovieList.styled';\nimport { Link, useLocation } from 'react-router-dom';\nimport defaultPicture from '../../images/no-image.jpg';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <Container>\n      {movies.map(({ poster_path, title, id }) => {\n        return (\n          <CardWrapper key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              <img\n                src={\n                  poster_path !== null\n                    ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n                    : defaultPicture\n                }\n                alt={title}\n              />\n              <MovieName>{title}</MovieName>\n            </Link>\n          </CardWrapper>\n        );\n      })}\n    </Container>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      poster_path: PropTypes.string,\n      title: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    })\n  ).isRequired,\n};\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLoupe(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 458.239 458.239\",\n    style: {\n      enableBackground: \"new 0 0 458.239 458.239\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M438.969,346.349l-78.313-78.313c-5.736-5.736-15.038-5.736-20.775,0l-24.35,24.35l-12.299-12.3 c25.307-30.589,39.081-68.676,39.081-108.881c0-45.72-17.804-88.704-50.134-121.032c-66.892-66.894-175.165-66.902-242.065,0 c-66.738,66.737-66.738,175.327,0,242.065c64.066,64.065,165.587,66.516,232.551,8.831l12.091,12.092l-26.779,26.779 c-5.734,5.733-5.736,15.04,0,20.775l78.313,78.313c25.611,25.613,67.066,25.616,92.679,0 C464.581,413.416,464.584,371.963,438.969,346.349z M271.405,271.465c-55.413,55.412-145.099,55.416-200.516-0.001 c-55.282-55.283-55.282-145.234,0-200.516c55.413-55.412,145.098-55.417,200.516,0c26.78,26.78,41.528,62.385,41.528,100.258 C312.933,209.079,298.185,244.685,271.405,271.465z M418.194,418.253c-14.131,14.132-36.998,14.131-51.129,0l-67.925-67.925 l51.129-51.129l67.926,67.925C432.323,381.252,432.326,404.122,418.194,418.253z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoupe);\nexport default __webpack_public_path__ + \"static/media/loupe.e364eac3c6cbf56da6bab5cebde7ad4d.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Form = styled.form`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  width: 100%;\n  max-width: 500px;\n  border-radius: 15px;\n`;\n\nexport const Field = styled.div`\n  position: relative;\n  width: 100%;\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  background-color: transparent;\n  border: 1px solid #ff72b6;\n  border-radius: 10px;\n  color: #272020;\n  padding: 17px;\n  outline: none;\n  transition: border-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:focus {\n    border-color: #ab135c;\n  }\n`;\n\nexport const Button = styled.button`\n  display: inline-block;\n  position: absolute;\n  height: 20px;\n  width: 22px;\n  top: 50%;\n  right: 16px;\n  transform: translateY(-50%);\n  right: 0px;\n  border: 0;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n`;\n","import { useState } from 'react';\nimport loupe from '../../images/loupe.svg';\nimport PropTypes from 'prop-types';\nimport { Container, Form, Field, Input, Button } from './Form.styled';\nimport { toast } from 'react-toastify';\n\nexport const SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => setQuery(e.target.value);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (query.trim() === '') {\n      return toast('The request was incorrect! Try again.');\n    }\n    onSubmit(query);\n    resetForm();\n  };\n\n  const resetForm = () => setQuery('');\n\n  return (\n    <Container>\n      <Form onSubmit={submitHandler}>\n        <Field>\n          <Button\n            type=\"submit\"\n            style={{ backgroundImage: `url(${loupe})` }}\n          ></Button>\n          <Input\n            type=\"text\"\n            name=\"query\"\n            value={query}\n            autoComplete=\"off\"\n            placeholder=\"Search\"\n            onChange={handleChange}\n          />\n        </Field>\n      </Form>\n    </Container>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { MoviesList } from 'components/MovieList/MovieList';\nimport { SearchForm } from 'components/Form/Form';\nimport { fetchSearchMovies } from 'api/fetchAPI';\nimport { Loader } from \"components/Loader/Loader\";\nimport { toast } from 'react-toastify';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState(null);\n  const [onLoad, setOnLoad] = useState(false);\n  const [error, setError] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchValue = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!searchValue) return;\n    setOnLoad(true);\n    const searchMovies = async () => {\n      try {\n        const data = await fetchSearchMovies(searchValue);\n        setMovies(data);\n      } catch (error) {\n        setError('The request was incorrect! Try again.');\n      } finally { \n        setOnLoad(false);\n      }\n    };\n    searchMovies();\n\n  }, [searchValue]);\n\n  const onInputSearch = value => {\n    setSearchParams({ query: value });\n  };\n\n  return (\n    <main>\n      <SearchForm onSubmit={onInputSearch} />\n      {onLoad && <Loader />}\n      {error && <div>{toast(error)}</div>}\n      {movies && <MoviesList movies={movies} />}\n    </main>\n  );\n};\nexport default Movies;"],"names":["API_KEY","BASE_URL","showToast","message","toast","toastId","fetchTrendingMovies","axios","response","data","results","console","error","fetchSearchMovies","query","length","log","fetchMovieDetails","movieId","fetchMovieCredits","cast","fetchMovieReviews","Container","styled","CardWrapper","MovieName","MoviesList","movies","location","useLocation","map","poster_path","title","id","to","state","from","src","defaultPicture","alt","Form","Field","Input","Button","SearchForm","onSubmit","useState","setQuery","resetForm","e","preventDefault","trim","type","style","backgroundImage","loupe","name","value","autoComplete","placeholder","onChange","target","setMovies","onLoad","setOnLoad","setError","useSearchParams","searchParams","setSearchParams","searchValue","get","useEffect","searchMovies","Loader"],"sourceRoot":""}